{% extends 'nav.html' %}
{% load static %}

{% block title %} Category {% endblock title %}

{% block main-content %}

<style>
.product-img {
    height: 280px;
    object-fit: contain;
    border-radius: 10px;
}



.hover-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 0px 0px 7px grey;
    border-radius: 15px;
}

.hover-card:hover {
    /* box-shadow: 0 0px 0px 7px grey; */
    transform: scale(1.05);
}

.card-body h5 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.card-body p {
    font-size: 1rem;
}


</style>


<!-- Add this CSS in your base template or inside <head> -->
    <style>
        .hover-dark {
            background-color: white;
            color: black;
            border: 1px solid white;
            transition: 0.3s;
        }
    
        .hover-dark:hover,
        .hover-dark:focus,
        .hover-dark:active {
            background-color: #222831 !important;
            color: white !important;
            outline: none !important;
            box-shadow: none !important;
            border-color: white!important;
        }
    
        .hover-dark.active {
            background-color: #222831 !important;
            color: white !important;
            border-color: white !important;
        }
    </style>
    
    {% if products  %}
    <div class="container my-5">
        <div class="row">
            <div class="col-sm-2" style="margin-left: -50px;">
                <div class="p-3 rounded" style="background-color: #f5f5f5;">
                    <h5 class="mb-3 text-center text-dark">Filter by Brand</h5>
                    <div class="list-group">
                        <a href="{% url 'category' val %}"
                           class="list-group-item list-group-item-action hover-dark {% if not selected_brand %}active{% endif %}">
                            All Brands
                        </a>
    
                        {% for brand in brands %}
                            <a href="{% url 'category' val %}?brand={{ brand }}"
                               class="list-group-item list-group-item-action hover-dark {% if brand == selected_brand %}active{% endif %}">
                                {{ brand }}
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
 
    



        <!-- Products Section -->
        <div class="col-sm-10" style="margin-left: 50px;">
            <div class="row">
                {% for prod in products %}
                <div class="col-md-4 mb-4">
                    <div class="card h-100 shadow-sm border-0 hover-card">
                        <a href="{% url 'product_details' prod.id %}" style="text-decoration: none; color: inherit;">
                            {% if prod.product_image %}
                                <img src="{{ prod.product_image.url }}" class="card-img-top product-img" alt="{{ prod.title }}" >
                            {% else %}
                                <div class="p-5 text-center">No Image Available</div>
                            {% endif %}
                            <div class="card-body text-center">
                                <h5 class="card-title fw-bold text-dark">{{ prod.title }}</h5>
                                <p class="card-text text-dark fw-bold mb-0">Rs.{{ prod.discount_price }}/-</p>
                                <small class="text-danger text-decoration-line-through">{{ prod.selling_price }}</small>
                            </div>
                        </a>
                    </div>
                </div>

                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% else %}

<div class="container" style="margin-top: 20vh;">
    <div class="d-flex justify-content-center">
    <img src="{% static 'images/OS.png'  %}" alt="" style="height: 60px; width: 60px;" >
</div>
    <div class="row justify-content-center">
      <div class="col-md-6 text-center">
        <h4 >{{ val|title }} is Out Of Stock</h4>
        <p class="text-muted">We will let you know soon when it's available again!</p>
        <p class="text-muted">Connect with us for Latest Updates</p>
        <a class="btn" href="{% url 'contact' %}" 
        
        style="background-color: white; border: solid 1px black; color: black; transition: 0.3s;"
        onmouseover="this.style.backgroundColor='black'; this.style.color='white';"
        onmouseout="this.style.backgroundColor='white'; this.style.color='black';">Query Now</a>
      </div>
    </div>
  </div>
  

{% endif %}

{% endblock main-content %}



<!-- ###################################################################################################################### -->


{% extends 'nav.html' %}
{% load static %}

{% block title %} Category {% endblock title %}

{% block main-content %} 



       <div class="container mt-5">
        <div class="row d-flex  justify-content-center">
        <div class="imag2 col-lg-4 " style="margin-right: 30px;">
                <img src="{{product.product_image.url}}" class="image shadow col-xs-6 col-sm-12 col-lg-12 mt-3 text-sm-center w-100 h-78" alt="">
        </div>
        <div class="productdetail col-lg-6 ">
                <h1 style="color: #222831;;">{{ product.title }}</h1>
                <p class="text-muted">{{ product.brand }}</p>
                <p style="margin-top: -10px;">
                  Rs.<span class="fw-bold fs-4 text-success">{{ product.selling_price }}/-</span>
                  {% if product.discount_price %}
                  <del class="text-muted ms-2">Rs.{{ product.discount_price }}/-</del>
                  {% endif %}
              </p> 
              <h4>More Information</h4>
                <ul class="fs-5"  >
                        <div style="font-size: 15px;">
                        <li >{{ product.description }}</li>
                        <li >{{ product.composition }}</li>
                        <li >{{ product.prodapp }}</li>
             
                </ul>
                
                <div class="d-flex flex-wrap align-items-center gap-3 mt-4">
                        {% if cart %}
                        <button type="submit" class="btn shadow px-4 py-2" style="
                        background-color: white;
                        border: solid 1px black;
                        color: black;
                        transition: 0.3s;
                        "onmouseover="this.style.backgroundColor='black'; this.style.color='white';"
                         onmouseout="this.style.backgroundColor='white'; this.style.color='black';"><i class="fa-solid fa-cart-shopping"></i>In Cart 
                        </button> 
                        {% else %}
                       
                            <form action="{% url 'addtocart' %}" method="get">
                                <input type="hidden" name="prod_id" value="{{ product.id }}">
                                <button type="" class="btn shadow px-4 py-2" style="
                                background-color: white;
                                border: solid 1px black;
                                color: black;
                                transition: 0.3s;
                                "onmouseover="this.style.backgroundColor='black'; this.style.color='white';"
                                onmouseout="this.style.backgroundColor='white'; this.style.color='black';"><i class="fa-solid fa-cart-shopping"></i> Add to Cart
                                </button> 
                            </form> 

                        {% endif %}  
                        
                        
                    {% if user.is_authenticated %}         
                    {% if wishlist %}
                    <a pid="{{ product.id }}" class="minus-wishlist">
                        <i class='bx bxs-heart-circle text-shadow' style="color: #e11a34; font-size: 50px; cursor: pointer; "></i>
                    </a>
                    {% else %}
                    <a pid="{{ product.id }}" class="plus-wishlist" >
                        <i class='bx bxs-heart-circle' style="color: rgb(56, 158, 56);  font-size: 50px; cursor: pointer;"></i>
                    </a>

                    {% endif %}

                    {% endif %}
                </div>              
        </div>
        </div>
       </div>




       {% if category_products %}
       <div class="container-fluid " style="margin-top: 20vh;">
        <h1 class="text-center mb-4 stylish-heading">Similar Products</h1>
        <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
      
                {% for product in category_products %}
                    {% if forloop.first or forloop.counter0|divisibleby:4 %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            <div class="row justify-content-center">
                    {% endif %}
      
                    <div class="col-md-2">
                    <a href="{% url 'product_details' product.id %}" style="text-decoration: none; color: black;">
                      <div class="card shadow d-flex flex-column justify-content-between" style="height: 400px;">
                          <img src="{{ product.product_image.url }}" class="card-img-top" alt="{{ product.title }}" style="width:100%; height: 200px;">
                          <div class="card-body text-center">
                              <h5 class="card-title" style="color: #222831;">{{ product.title }}</h5>
                              <h6 class="card-text fw-bold">Rs.{{ product.discount_price }}/-</h6>
                              <small class="fw-light text-danger text-decoration-line-through">Rs.{{ product.selling_price }}/-</small>
                          </div>
                          <div class="d-flex justify-content-center mb-3">
                              <a href="{% url 'product_details' product.id %}" class="btn btn-dark btn-sm" >View Product</a>
                          </div>
                      </div>
                    </a>
                    </div>
      
                    {% if forloop.last or forloop.counter|divisibleby:4 %}
                            </div> <!-- Close row -->
                        </div> <!-- Close carousel-item -->
                    {% endif %}
                {% endfor %}
            </div>
      
            <!-- Carousel Controls -->
            <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon bg-dark p-3 rounded" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon bg-dark p-3 rounded" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
      </div>
      {% endif %}




<style>
  .scroll-container {
    overflow-x: auto;
    white-space: nowrap;
    padding: 10px;
  }

  .product-card-wrapper {
    display: inline-block;
    width: 250px;
    margin-right: 16px;
    vertical-align: top;
  }

  .product-img {
  height: 200px;
  object-fit: contain;
  transition: transform 0.3s ease-in-out;
}

.image{
  transition: transform 0.3s ease-in-out;

}
.image:hover{

  transform: scale(1.05);

}

.product-img:hover {
  transform: scale(1.05);
}

  .hover-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .hover-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }

  .scroll-container::-webkit-scrollbar {
    height: 0px;
  }




  .product-title {
    font-size: 16px;
    font-weight: 600;
  }

  .view-all-btn {
    display: block;
    text-align: center;
    margin-top: 20px;
  }
</style>


<div class="container-fluid" style="margin-top: 20vh;" >
    <div class="row align-items-center justify-content-between">
      
      <div class="col-md-9">
        <h1 class="stylish-heading" style="margin-left: 47%;">Our Featured Instruments</h1>
      </div>
  
      <div class="col-md-3 text-md-end mt-3 mt-md-0">
        <a href="{% url 'ourproducts' %}" class="btn btn-outline-dark">View All</a>
      </div>
  
    </div>
  </div>



  <div class="scroll-container">
    {% for prod in A_Prod|slice:":10" %}
      <div class="product-card-wrapper">
        <div class="row mx-2">
            <a href="{% url 'product_details' prod.id %}" style="text-decoration: none; color: inherit;">
            {% if prod.product_image %}
              <img src="{{ prod.product_image.url }}" class="card-img-top product-img" alt="{{ prod.title }}">
            {% else %}
              <div class="p-5 text-center">No Image Available</div>
            {% endif %}
            <div class="card-body text-center">
              <h5 class="product-title">{{ prod.title }}</h5>
              <p class="fw-bold">Rs.{{ prod.discount_price }}/-</p>
              <small class="text-danger text-decoration-line-through" style="margin-top: -10px; display: block;">Rs.{{ prod.selling_price }}/-</small>            </div>
            <div class="d-flex justify-content-center mb-3">
              <a href="{% url 'product_details' prod.id %}" class="btn btn-sm mt-3"
                 style="background-color: white; border: solid 1px black; color: black; transition: 0.3s;"
                 onmouseover="this.style.backgroundColor='black'; this.style.color='white';"
                 onmouseout="this.style.backgroundColor='white'; this.style.color='black';">
                 View More
              </a>
            </div>
          </a>
        </div>
      </div>
    {% endfor %}
  </div>




        
      


{% endblock main-content %}

